import socket

def main():
    host = '157.66.55.21'
    port = 30001
    initial_value = 4199190
    max_attempts = 10000

    for i in range(max_attempts):
        try:
            with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
                s.connect((host, port))
                data = s.recv(1024).decode()
                current_value = initial_value + i
                s.sendall(f'{current_value}\n'.encode())
                response = s.recv(4096).decode()
                if 'forestyctf{' in response:
                    print('Flag found!')
                    print(f'Value: {current_value}')
                    print(response)
                    break
        except Exception as e:
            print(f'Error{current_value}:', e)
            continue
    else:
        print('Flag not found.')

if __name__ == "__main__":
    main()